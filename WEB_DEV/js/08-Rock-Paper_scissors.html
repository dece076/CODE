<!DOCTYPE html>
<head>
    <title>rps</title>
</head>
<body>
    <div>Rock Paper Scissors</div>
    <button onclick="userMove='rock'; rpsdecision();"">Rock</button>
    <button onclick="userMove='scissors'; rpsdecision();">Paper</button>
    <button onclick="userMove='rock'; rpsdecision();">Scissors</button>
    <button onclick="localStorage.removeItem('record'); record = {
        wins: 0,
        loses: 0,
        draw: 0
    };">Reset</button>

    <script>
        function rpsdecision(){
            randomN=Math.random();
            if (randomN<0.33){
                compMove = 'rock';
            }
            else if (randomN<0.66){
                compMove = 'scissors';
            }
            else{
                compMove = 'paper';               
            }


            if (userMove === compMove){
                record.draw += 1;
                alert(`Computer chooses ${compMove}, Draw
                Wins : ${record.wins}, Losses : ${record.loses}, draw : ${record.draw}`);
                

            }
            else if ((compMove === 'rock' && userMove === 'paper')|| (compMove === 'paper' && userMove === 'scissors')||(compMove === 'scissors' && userMove === 'rock')){
                record.wins +=1;
                alert(`Computer chooses ${compMove}, You win
                Wins : ${record.wins}, Losses : ${record.loses}, draw : ${record.draw}`);
                
            }
            else {
                record.loses += 1;
                alert(`Computer chooses ${compMove}, You Lose
                Wins : ${record.wins}, Losses : ${record.loses}, draw : ${record.draw}`);
                
            }
            localStorage.setItem('record', JSON.stringify(record));
            
        }
        let userMove='';
        let randomN=0.0;
        let compMove='';
        let record = JSON.parse(localStorage.getItem('record')) || {
                wins: 0,
                loses: 0,
                draw: 0
            };
    </script>
</body>